# Usage: /my:weekly-news <topic>
#
# Description:
# Collects weekly news (official & media) for a specified topic and outputs to a Markdown file.

description = "Collects weekly news for a topic and outputs to a Markdown file."

prompt = """
# Instruction: Create Weekly News Digest

Investigate news from the past week regarding the topic "{{args}}" and output it to a file in the specified format.

## 1. Search Period
- Check today's date and target information from the past 7 days.

## 2. Collection Requirements (Target: Total 10 items)
Collect information with the following balance. Consolidate overlapping content. Less than 10 items is acceptable.

1.  **Official/Semi-official Information (Target: 5 items)**
    - Official websites, blogs, user forums.
    - Official distributors, overseas branch announcements.
    - Official SNS accounts.
2.  **Major Media Information (Target: 5 items)**
    - Major IT news sites, newspapers, trade journals, etc.

## 3. Priority Content
Prioritize collecting information falling into these categories:
- **New products, new services, beneficial information for users.**
- **Critical bugs, defects, or announcements requiring immediate user action.**

## 4. Output Action
Summarize the investigation results and create a file with the following specifications (use `write_file` tool).

- **Output Directory**: `.gemini/output/`
- **Filename**: `news_digest_{{args}}.md` (Replace spaces with underscores, add date suffix if necessary)
- **File Content (Markdown)**:
    - Title
    - Investigation Period
    - Important Notices (Bugs, Defects, etc.)
    - New Products/Services
    - Official Information Summary
    - Media Coverage Summary
    - (Include title, summary, and reference URL for each item)

## Execution Flow
1.  Use `google_web_search` to perform broad searches with queries like "{{args}} news", "{{args}} official", "{{args}} bugs".
2.  Review and categorize the information.
3.  Write the Markdown file to the specified path.
4.  Report completion and the file path to the user.
"""