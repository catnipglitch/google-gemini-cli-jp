# GEMINI.md ファイルでコンテキストを提供する

デフォルト名 `GEMINI.md` を使用するコンテキストファイルは、Gemini モデルに指示コンテキストを提供するための強力な機能です。これらのファイルを使用して、プロジェクト固有の指示を提供したり、ペルソナを定義したり、コーディングスタイルガイドを提供したりして、AI の応答をより正確でニーズに合わせて調整できます。

すべてのプロンプトで指示を繰り返す代わりに、コンテキストファイルで一度定義できます。

## コンテキスト階層を理解する

CLI は、階層システムを使用してコンテキストをソースします。さまざまな場所からさまざまなコンテキストファイルをロードし、見つかったすべてのファイルの内容を連結し、すべてのプロンプトでモデルに送信します。CLI は次の順序でファイルをロードします。

1.  **グローバルコンテキストファイル:**
    - **場所:** `~/.gemini/GEMINI.md` (ユーザーホームディレクトリ内)。
    - **スコープ:** すべてのプロジェクトのデフォルトの指示を提供します。

2.  **プロジェクトルートおよび祖先コンテキストファイル:**
    - **場所:** CLI は、現在の作業ディレクトリで `GEMINI.md` ファイルを検索し、次にプロジェクトルート（`.git` フォルダで識別される）までの各親ディレクトリで検索します。
    - **スコープ:** プロジェクト全体に関連するコンテキストを提供します。

3.  **サブディレクトリコンテキストファイル:**
    - **場所:** CLI は、現在の作業ディレクトリの下のサブディレクトリにある `GEMINI.md` ファイルもスキャンします。`.gitignore` および `.geminiignore` のルールを尊重します。
    - **スコープ:** 特定のコンポーネントまたはモジュールに対して非常に具体的な指示を記述できます。

CLI フッターには、ロードされたコンテキストファイルの数が表示され、アクティブな指示コンテキストのクイックビジュアルキューが表示されます。

### `GEMINI.md` ファイルの例

TypeScript プロジェクトのルートに `GEMINI.md` ファイルに含めることができるものの例を次に示します。

```markdown
# プロジェクト: 私の TypeScript ライブラリ

## 一般的な指示

- 新しい TypeScript コードを生成する場合は、既存のコーディングスタイルに従ってください。
- すべての新しい関数とクラスに JSDoc コメントがあることを確認してください。
- 適切な場合は、関数型プログラミングパラダイムを優先してください。

## コーディングスタイル

- インデントにはスペース2つを使用します。
- インターフェース名の先頭に `I` を付けます（例: `IUserService`）。
- 常に厳密な等価性（`===` および `!==`）を使用してください。
```

## `/memory` コマンドでコンテキストを管理する

`/memory` コマンドを使用して、ロードされたコンテキストファイルと対話できます。

- **`/memory show`**: 現在の階層メモリの完全な連結されたコンテンツを表示します。これにより、モデルに提供されている正確な指示コンテキストを検査できます。
- **`/memory refresh`**: 設定されたすべての場所からすべての `GEMINI.md` ファイルを再スキャンして再ロードします。
- **`/memory add <text>`**: グローバル `~/.gemini/GEMINI.md` ファイルにテキストを追加します。これにより、オンザフライで永続的なメモリを追加できます。

## インポートでコンテキストをモジュール化する

`@file.md` 構文を使用して他のファイルからコンテンツをインポートすることで、大規模な `GEMINI.md` ファイルをより小さく、より管理しやすいコンポーネントに分割できます。この機能は、相対パスと絶対パスの両方をサポートしています。

**インポートを含む `GEMINI.md` の例:**

```markdown
# メインの GEMINI.md ファイル

これはメインコンテンツです。

@./components/instructions.md

ここにさらにコンテンツがあります。

@../shared/style-guide.md
```

詳細については、[メモリインポートプロセッサ](../core/memport.md)のドキュメントを参照してください。

## コンテキストファイル名をカスタマイズする

`GEMINI.md` がデフォルトのファイル名ですが、`settings.json` ファイルでこれを構成できます。別の名前または名前のリストを指定するには、`context.fileName` プロパティを使用します。

**`settings.json` の例:**

```json
{
  "context": {
    "fileName": ["AGENTS.md", "CONTEXT.md", "GEMINI.md"]
  }
}
```